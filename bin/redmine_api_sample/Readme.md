# Redmine APIのサンプル

## Redmine 立ち上げ（docker利用）

### Container起動
- docker run -d --name test-mine -p 30000:3000 redmine:4.2.7

### 初回アクセス（ユーザー登録）
+ URL：${dockerホスト}:30000/ にアクセス
+ 以下情報でログインする
    - ログインID： admin
    - パスワード： admin
+ ログイン後にadminパスワードを変更する。（変更画面に自動で遷移する）
    - パスワード： password（実際は適宜変更する）

### デフォルト設定ロード
+ 管理画面に移動する。
+ 「ロール、トラッカー、チケットのステータス、ワークフローがまだ設定されていません。」と表示されているので以下を実行する。
    - 「japanease（日本語）」を選択して、「デフォルト設定をロード」を実行

### テスト用プロジェクト作成
+ 新しいプロジェクトを作成する
    - 名称：sample-project
    - 識別子：sample-site

### テスト用ユーザー作成
+ 通常ユーザー
    - 「以下を入力して送信を押下」
    - ログインID： user01（実際は適宜変更する）
    - 名：任意名称
    - 性：任意名称
    - メールアドレス： 自分のメールアドレス
    - 言語： japanease（日本語）
    - パスワード： password（実際は適宜変更する）
    - メール通知：通知しない（テスト用環境なのでSMTPサーバーを指定していないため）

### テスト用プロジェクトにテスト用ユーザーを追加
+ sample-projectにuser01を追加
    - ロール： 管理者

### REST APIの有効化
+ Rest APIを有効化する。
    - 「管理」に移動する。
    - 「設定」を表示する。
    - 「API」タブを表示する。
        - 「RESTによるWebサービスを有効にする」を「ON」にする。

## サンプルチケット作成

### ログインユーザー変更
+ usre01でログインしなおす。（Redmineのシステム管理者以外を利用する想定）

### サンプルチケットを作成（3枚作ってみる）
+ 最初のチケットを登録
    - 題名： 最初のチケット
    - チケット番号：(通常は１になるはず)
    - トラッカー： サポート
    - ステータス： 新規
    - 優先度： 通常
    - 期日： 10日後
    - 担当者：無し
+ 2枚目のチケットを登録
    - 題名： 2枚目のチケット
    - チケット番号：(２になるはず)
    - トラッカー： サポート
    - ステータス： 新規
    - 優先度： 通常
    - 期日： 20日後
    - 担当者： 自分に割り当て
+ 3枚目のチケットを登録
    - 題名： 3枚目のチケット
    - チケット番号：(３になるはず)
    - トラッカー： バグ
    - ステータス： 新規
    - 優先度： 高め
    - 期日： 5日後
    - 担当者： 無し

+ 2枚目のチケットのステータスを変更
    - ステータス： 進行中に変更

## API キー発行
+ user01のまま操作する
    - （右上）「個人設定」を開く
    - 「APIアクセスキー」下の「表示」を押下すると表示される。
    - 念のため一度リセットしてから使用したほうが良い。
        - 「APIアクセスキーが見つかりません (リセット)」 のリセットがリンクになっているので押下すればリセットされる。

